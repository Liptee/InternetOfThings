![[Pasted image 20220506164125.png]]
**ZigBee**, прежде всего, используется в системах безопасности, охранных устройствах, системах освещения помещений и объектов инфраструктуры, системах вентиляции, автоматизации, кондиционирования.

В таблице приведены сравнительные характеристики некоторых стандартов сети WPAN.

Стек **ZigBee** представляет собой иерархическую модель, построенную по принципу семиуровневой модели взаимодействия открытых систем **OSI** (*Open Systems Interconnection*). Спецификация стека определяет какими свойствами должны обладать устройства, из которых строится сеть, каким образом пакет информации передается от одного узла сети к другому, как новое устройство подключается к сети, и кто в сети является главным, а кто подчиненным.
![[Pasted image 20220506165239.png]]
Стек включает в себя уровни стандарта **IEEE 802.15.4**, отвечающие за реализацию канала связи, программные сетевые уровни и уровни поддержки приложений.
- Физический уровень **IEEE802.15.4 PHY**, уровень доступа к среде **IEEE802.15.4. MAC**

На уровнях **PHY** и **MAC** используется стандрат **IEEE 802.15.4. IEEE 802.15.4-2003**, который используется и для других сетей **WPAN**. **IEEE 802.15.4** определяет физические параметры передатчика: диапазон частот (868 МГц, 915 МГц, 2.4 ГГц); число радиочастотных каналов (1-16); тип модуляции (**QPSK** и **BPSK**).

Уровень **PHY** осуществляет:
- активизацию/дезактивацию приемопередатчика;
- выбор физического частотного канала;
- индикацию качества связи;
- оценку свободного канала для реализации протокола множественного доступа к среде с контролем несущей и предотвращением коллизий.

**MAC** уровень отвечает за надежную связь устройства с непосредственными соседями, определяет число адресумых устройств, описывает механизмы проверки и подтверждения целостности принятых данных, процедуры оценки качества канала и алгоритм предотвращения коллизий (ограничение на одновременную работу нескольких передатчиков).

Уровень канала передачи данных **DLC** обеспечивает формирование пакетов данных и управление потоками информации.

Сетевой уровень **NWK** обрабатывает сетевые адреса и маршрутизацию по вызовам **MAC**:
- запуск сети (если устройство является координатором);
- присвоение сетевых адресов;
- добавление и удаление сетевых устройств;
- маршрутизация сообщений;
- применение политики безопасности;
- осуществление поиска маршрутов.

Подуровень поддержки приложений **APS** отвечает за предоставление данных приложениям и профилям устройства **ZigBee**. Подуровень также управляет присоединениям в сети **ZigBee** и хранит данные о таких присоединениях в своей таблице. Профили устройств определяют устройства в соответствии с их назначением. В **ZigBee** поддерживается режим "профилей устройств" или профилей для различных датчиков, которые могут "понимать" друг друга, т.е. совместимы на уровне стека протокола и могут передавать и принимать информацию.

Устройства **ZigBee** стандартизированы не только на сетевом уровне, но и на уровне приложений, т.е. беспроводные узлы различных производителей могут понимать друг друга и на уровне приложения. Для этого разработана библиотека кластеров **ZigBee (ZCL)**, в которой определены профили с набором стандартных устройств, таких как выключатели, блоки управления освещением, интерфейс для подключения датчиков, счетчиков и т.п. Стандартный профиль описывает стандартные команды и поведения конкретного устройства. Сеть **ZigBee** может быть построена из устройства различных профилей, но понимать друг друга могут только устройства одного профиля, например, выключатель и электрическая лампочка. В **ZigBee** разработаны профили для устройств следующего назначения: домашняя автоматизация, энергетика, строительство, автоматизация коммерческого строительсвта, телекоммуникационные приложения, медицина, игрушки. Если какие-то профили не заложены в стандрат, они мгут быть созданы дополнительно.

Уровень приложений состоит из фермы приложений (*Application Framework*), объекта устройства **ZigBee (ZD0)**. Ферма приложений содержит описание порядка создания профилей в стеке **ZigBee**, гарантирующего их совместимость, а также определяет стандартные типы данных для профилей, дескрипторы, помогающие в обнаружении служб, форматы кадров для транспортировки данных и значения пар ключей. Это позволяет быстро разрабатывать простые профили на основе атрибутов. Объекты приложений (*Application Objects*) - программные модули, управляющие устройствами **ZigBee** в конечных точках. Конечная точка 0 зарезервирвоанна для объекта устройства **ZigBee (ZD0)**.

Объект устройства **ZigBee** (**ZigBee Device Object - ZD0):
- определяет роль устройства ZigBee: координатор, маршрутизатор или конечное устройство;
- иницииурует запросы поиска и присоединения и/или отвечает на такие запросы;
- устанавливает безопасную связь между устройствами **ZigBee**.

Сети **ZigBee** поддерживают топологии *mesh*, "точка-точка", "кластер", "звезда".

Наибольший интерес представляет mesh-топология, в которой за счет наличия избыточных связей между устройствами повышается ее надежность. Поэтому далее будем рассматривать сеть **ZigBee** этой топологии.

[[ZigBee-mesh]]